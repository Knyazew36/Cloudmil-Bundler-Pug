mixin picture(fileName)
  -
    var file = {
      getTitle(filename) {
        var segments = filename.split('.');
        segments.pop();
        var title = segments.join('.');
        return title;
      },
      getExtension(filename) {
        var segments = filename.split('.');
        var extension = segments.pop();
        return extension;
      },
      getPath(title, extension) {
        var path = '../../images/' + title + "." + extension;
        return path;
      },
    };
    var fileTitle = file.getTitle(fileName);
    var fileExtension = file.getExtension(fileName);
  picture.picture&attributes(attributes)
    source(
      type="image/webp"
      srcset=(file.getPath(fileTitle, "webp") + " 1x")
      alt=fileName
      class="lazyload" 
    )
    img.picture__img(
      class="lazyload" 
      data-src=(file.getPath(fileTitle, fileExtension))
      alt=fileName
      src=(file.getPath(fileTitle, fileExtension))
    )
